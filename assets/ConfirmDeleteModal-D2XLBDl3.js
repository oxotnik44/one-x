import{c as se,R as ht,r as O,j as A,U as rr,u as nr}from"./iframe-CCPG9B4X.js";import{M as or}from"./Modal-fdBgQfJh.js";import{b as sr,B as _e,a as ar}from"./Button-Bbd_4dKP.js";import"./ButtonNavigation-BxvL78nb.js";import{D as ir}from"./Dropdown-xaWiqvUd.js";import"./FilePicker-C-0viexR.js";import{T as ee}from"./Text-BdjnsNMI.js";import{u as he}from"./useTranslation-CGIo-ki9.js";import"./Input-CrW3eORU.js";import{L as cr}from"./Like-B-_46ITe.js";import"./Loader-C1jWAQqW.js";import"./PageLoader-CcW8yQkr.js";import"./PageWrapper-B_RLjTmo.js";import{b as Xe,c as Ye}from"./index-C9vfmkzM.js";import"./index-CBrGr1YP.js";import"./TrackControlButton-OZ2XJtMV.js";import"./UserAvatar-DMAIqh6G.js";import{G as fr}from"./iconBase-BDT6FSQA.js";const xe=se()(e=>({groups:[],currentGroup:null,setGroups:t=>e({groups:t}),setCurrentGroup:t=>e({currentGroup:t})})),dr=ht.memo(({edit:e,preview:t,onIconChange:r})=>{const n=xe(x=>x.currentGroup?.cover),o=xe(x=>x.currentGroup?.name),s=O.useRef(null),{t:a}=he("groupCover"),i=()=>{e&&s.current&&s.current.click()},d=A.jsx("img",{src:t??n??"",alt:o??a("noGroupSelected"),width:512,height:512,className:`object-contain bg-gray-100 rounded-xl ${!t&&!n?"hidden":""}`}),c=!t&&!n&&A.jsx("div",{className:"w-48 h-48 sm:w-64 sm:h-64 bg-gray-200 rounded-3xl flex items-center justify-center text-gray-400 text-lg sm:text-xl",children:a("noCover")}),f=`relative ${e?"cursor-pointer hover:opacity-80":""}`;return A.jsxs("div",{className:"flex flex-col items-center w-full md:w-1/3",children:[A.jsx(ee,{className:"font-bold mb-6 text-center",title:o??a("noGroupSelected")}),A.jsxs("div",{className:f,...e&&{onClick:i,title:a("clickToChangeIcon")},children:[d,c,e&&A.jsx("input",{ref:s,type:"file",accept:"image/*",className:"hidden",onChange:x=>r?.(x.target.files)})]})]})});dr.displayName="GroupCover";let lr={data:""},xr=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||lr,ur=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,br=/\/\*[^]*?\*\/|  +/g,Ze=/\n+/g,M=(e,t)=>{let r="",n="",o="";for(let s in e){let a=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+a+";":n+=s[1]=="f"?M(a,s):s+"{"+M(a,s[1]=="k"?"":t)+"}":typeof a=="object"?n+=M(a,t?t.replace(/([^,])+/g,i=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,i):i?i+" "+d:d)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=M.p?M.p(s,a):s+":"+a+";")}return r+(t&&o?t+"{"+o+"}":o)+n},I={},yt=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+yt(e[r]);return t}return e},pr=(e,t,r,n,o)=>{let s=yt(e),a=I[s]||(I[s]=(d=>{let c=0,f=11;for(;c<d.length;)f=101*f+d.charCodeAt(c++)>>>0;return"go"+f})(s));if(!I[a]){let d=s!==e?e:(c=>{let f,x,m=[{}];for(;f=ur.exec(c.replace(br,""));)f[4]?m.shift():f[3]?(x=f[3].replace(Ze," ").trim(),m.unshift(m[0][x]=m[0][x]||{})):m[0][f[1]]=f[2].replace(Ze," ").trim();return m[0]})(e);I[a]=M(o?{["@keyframes "+a]:d}:d,r?"":"."+a)}let i=r&&I.g?I.g:null;return r&&(I.g=I[a]),((d,c,f,x)=>{x?c.data=c.data.replace(x,d):c.data.indexOf(d)===-1&&(c.data=f?d+c.data:c.data+d)})(I[a],t,n,i),a},mr=(e,t,r)=>e.reduce((n,o,s)=>{let a=t[s];if(a&&a.call){let i=a(r),d=i&&i.props&&i.props.className||/^go/.test(i)&&i;a=d?"."+d:i&&typeof i=="object"?i.props?"":M(i,""):i===!1?"":i}return n+o+(a??"")},"");function ye(e){let t=this||{},r=e.call?e(t.p):e;return pr(r.unshift?r.raw?mr(r,[].slice.call(arguments,1),t.p):r.reduce((n,o)=>Object.assign(n,o&&o.call?o(t.p):o),{}):r,xr(t.target),t.g,t.o,t.k)}let gt,je,Le;ye.bind({g:1});let B=ye.bind({k:1});function hr(e,t,r,n){M.p=t,gt=e,je=r,Le=n}function q(e,t){let r=this||{};return function(){let n=arguments;function o(s,a){let i=Object.assign({},s),d=i.className||o.className;r.p=Object.assign({theme:je&&je()},i),r.o=/ *go\d+/.test(d),i.className=ye.apply(r,n)+(d?" "+d:"");let c=e;return e[0]&&(c=i.as||e,delete i.as),Le&&c[0]&&Le(i),gt(c,i)}return o}}var yr=e=>typeof e=="function",De=(e,t)=>yr(e)?e(t):e,gr=(()=>{let e=0;return()=>(++e).toString()})(),wr=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Er=20,wt=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Er)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return wt(e,{type:e.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+o}))}}},Tr=[],ke={toasts:[],pausedAt:void 0},ze=e=>{ke=wt(ke,e),Tr.forEach(t=>{t(ke)})},Rr=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||gr()}),ae=e=>(t,r)=>{let n=Rr(t,e,r);return ze({type:2,toast:n}),n.id},j=(e,t)=>ae("blank")(e,t);j.error=ae("error");j.success=ae("success");j.loading=ae("loading");j.custom=ae("custom");j.dismiss=e=>{ze({type:3,toastId:e})};j.remove=e=>ze({type:4,toastId:e});j.promise=(e,t,r)=>{let n=j.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let s=t.success?De(t.success,o):void 0;return s?j.success(s,{id:n,...r,...r?.success}):j.dismiss(n),o}).catch(o=>{let s=t.error?De(t.error,o):void 0;s?j.error(s,{id:n,...r,...r?.error}):j.dismiss(n)}),e};var Ar=B`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Cr=B`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kr=B`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Or=q("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ar} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Cr} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kr} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Sr=B`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,vr=q("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Sr} 1s linear infinite;
`,Nr=B`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_r=B`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jr=q("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_r} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Lr=q("div")`
  position: absolute;
`,Dr=q("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Pr=B`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ur=q("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Pr} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Fr=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?O.createElement(Ur,null,t):t:r==="blank"?null:O.createElement(Dr,null,O.createElement(vr,{...n}),r!=="loading"&&O.createElement(Lr,null,r==="error"?O.createElement(Or,{...n}):O.createElement(jr,{...n})))},Ir=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Br=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,$r="0%{opacity:0;} 100%{opacity:1;}",Mr="0%{opacity:1;} 100%{opacity:0;}",qr=q("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,zr=q("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Hr=(e,t)=>{let r=e.includes("top")?1:-1,[n,o]=wr()?[$r,Mr]:[Ir(r),Br(r)];return{animation:t?`${B(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${B(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};O.memo(({toast:e,position:t,style:r,children:n})=>{let o=e.height?Hr(e.position||t||"top-center",e.visible):{opacity:0},s=O.createElement(Fr,{toast:e}),a=O.createElement(zr,{...e.ariaProps},De(e.message,e));return O.createElement(qr,{className:e.className,style:{...o,...r,...e.style}},typeof n=="function"?n({icon:s,message:a}):O.createElement(O.Fragment,null,s,a))});hr(O.createElement);ye`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var U=j;function Et(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gr}=Object.prototype,{getPrototypeOf:He}=Object,{iterator:ge,toStringTag:Tt}=Symbol,we=(e=>t=>{const r=Gr.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),D=e=>(e=e.toLowerCase(),t=>we(t)===e),Ee=e=>t=>typeof t===e,{isArray:Y}=Array,te=Ee("undefined");function Jr(e){return e!==null&&!te(e)&&e.constructor!==null&&!te(e.constructor)&&N(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Rt=D("ArrayBuffer");function Vr(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Rt(e.buffer),t}const Wr=Ee("string"),N=Ee("function"),At=Ee("number"),Te=e=>e!==null&&typeof e=="object",Kr=e=>e===!0||e===!1,fe=e=>{if(we(e)!=="object")return!1;const t=He(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Tt in e)&&!(ge in e)},Xr=D("Date"),Yr=D("File"),Zr=D("Blob"),Qr=D("FileList"),en=e=>Te(e)&&N(e.pipe),tn=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||N(e.append)&&((t=we(e))==="formdata"||t==="object"&&N(e.toString)&&e.toString()==="[object FormData]"))},rn=D("URLSearchParams"),[nn,on,sn,an]=["ReadableStream","Request","Response","Headers"].map(D),cn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ie(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),Y(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let i;for(n=0;n<a;n++)i=s[n],t.call(null,e[i],i,e)}}function Ct(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const z=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kt=e=>!te(e)&&e!==z;function Pe(){const{caseless:e}=kt(this)&&this||{},t={},r=(n,o)=>{const s=e&&Ct(t,o)||o;fe(t[s])&&fe(n)?t[s]=Pe(t[s],n):fe(n)?t[s]=Pe({},n):Y(n)?t[s]=n.slice():t[s]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&ie(arguments[n],r);return t}const fn=(e,t,r,{allOwnKeys:n}={})=>(ie(t,(o,s)=>{r&&N(o)?e[s]=Et(o,r):e[s]=o},{allOwnKeys:n}),e),dn=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ln=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},xn=(e,t,r,n)=>{let o,s,a;const i={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)a=o[s],(!n||n(a,e,t))&&!i[a]&&(t[a]=e[a],i[a]=!0);e=r!==!1&&He(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},un=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},bn=e=>{if(!e)return null;if(Y(e))return e;let t=e.length;if(!At(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},pn=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&He(Uint8Array)),mn=(e,t)=>{const n=(e&&e[ge]).call(e);let o;for(;(o=n.next())&&!o.done;){const s=o.value;t.call(e,s[0],s[1])}},hn=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},yn=D("HTMLFormElement"),gn=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),Qe=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),wn=D("RegExp"),Ot=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ie(r,(o,s)=>{let a;(a=t(o,s,e))!==!1&&(n[s]=a||o)}),Object.defineProperties(e,n)},En=e=>{Ot(e,(t,r)=>{if(N(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(N(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Tn=(e,t)=>{const r={},n=o=>{o.forEach(s=>{r[s]=!0})};return Y(e)?n(e):n(String(e).split(t)),r},Rn=()=>{},An=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Cn(e){return!!(e&&N(e.append)&&e[Tt]==="FormData"&&e[ge])}const kn=e=>{const t=new Array(10),r=(n,o)=>{if(Te(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[o]=n;const s=Y(n)?[]:{};return ie(n,(a,i)=>{const d=r(a,o+1);!te(d)&&(s[i]=d)}),t[o]=void 0,s}}return n};return r(e,0)},On=D("AsyncFunction"),Sn=e=>e&&(Te(e)||N(e))&&N(e.then)&&N(e.catch),St=((e,t)=>e?setImmediate:t?((r,n)=>(z.addEventListener("message",({source:o,data:s})=>{o===z&&s===r&&n.length&&n.shift()()},!1),o=>{n.push(o),z.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",N(z.postMessage)),vn=typeof queueMicrotask<"u"?queueMicrotask.bind(z):typeof process<"u"&&process.nextTick||St,Nn=e=>e!=null&&N(e[ge]),l={isArray:Y,isArrayBuffer:Rt,isBuffer:Jr,isFormData:tn,isArrayBufferView:Vr,isString:Wr,isNumber:At,isBoolean:Kr,isObject:Te,isPlainObject:fe,isReadableStream:nn,isRequest:on,isResponse:sn,isHeaders:an,isUndefined:te,isDate:Xr,isFile:Yr,isBlob:Zr,isRegExp:wn,isFunction:N,isStream:en,isURLSearchParams:rn,isTypedArray:pn,isFileList:Qr,forEach:ie,merge:Pe,extend:fn,trim:cn,stripBOM:dn,inherits:ln,toFlatObject:xn,kindOf:we,kindOfTest:D,endsWith:un,toArray:bn,forEachEntry:mn,matchAll:hn,isHTMLForm:yn,hasOwnProperty:Qe,hasOwnProp:Qe,reduceDescriptors:Ot,freezeMethods:En,toObjectSet:Tn,toCamelCase:gn,noop:Rn,toFiniteNumber:An,findKey:Ct,global:z,isContextDefined:kt,isSpecCompliantForm:Cn,toJSONObject:kn,isAsyncFn:On,isThenable:Sn,setImmediate:St,asap:vn,isIterable:Nn};function w(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}l.inherits(w,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:l.toJSONObject(this.config),code:this.code,status:this.status}}});const vt=w.prototype,Nt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Nt[e]={value:e}});Object.defineProperties(w,Nt);Object.defineProperty(vt,"isAxiosError",{value:!0});w.from=(e,t,r,n,o,s)=>{const a=Object.create(vt);return l.toFlatObject(e,a,function(d){return d!==Error.prototype},i=>i!=="isAxiosError"),w.call(a,e.message,t,r,n,o),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const _n=null;function Ue(e){return l.isPlainObject(e)||l.isArray(e)}function _t(e){return l.endsWith(e,"[]")?e.slice(0,-2):e}function et(e,t,r){return e?e.concat(t).map(function(o,s){return o=_t(o),!r&&s?"["+o+"]":o}).join(r?".":""):t}function jn(e){return l.isArray(e)&&!e.some(Ue)}const Ln=l.toFlatObject(l,{},null,function(t){return/^is[A-Z]/.test(t)});function Re(e,t,r){if(!l.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=l.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,p){return!l.isUndefined(p[b])});const n=r.metaTokens,o=r.visitor||f,s=r.dots,a=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&l.isSpecCompliantForm(t);if(!l.isFunction(o))throw new TypeError("visitor must be a function");function c(u){if(u===null)return"";if(l.isDate(u))return u.toISOString();if(l.isBoolean(u))return u.toString();if(!d&&l.isBlob(u))throw new w("Blob is not supported. Use a Buffer instead.");return l.isArrayBuffer(u)||l.isTypedArray(u)?d&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function f(u,b,p){let R=u;if(u&&!p&&typeof u=="object"){if(l.endsWith(b,"{}"))b=n?b:b.slice(0,-2),u=JSON.stringify(u);else if(l.isArray(u)&&jn(u)||(l.isFileList(u)||l.endsWith(b,"[]"))&&(R=l.toArray(u)))return b=_t(b),R.forEach(function(y,C){!(l.isUndefined(y)||y===null)&&t.append(a===!0?et([b],C,s):a===null?b:b+"[]",c(y))}),!1}return Ue(u)?!0:(t.append(et(p,b,s),c(u)),!1)}const x=[],m=Object.assign(Ln,{defaultVisitor:f,convertValue:c,isVisitable:Ue});function h(u,b){if(!l.isUndefined(u)){if(x.indexOf(u)!==-1)throw Error("Circular reference detected in "+b.join("."));x.push(u),l.forEach(u,function(R,E){(!(l.isUndefined(R)||R===null)&&o.call(t,R,l.isString(E)?E.trim():E,b,m))===!0&&h(R,b?b.concat(E):[E])}),x.pop()}}if(!l.isObject(e))throw new TypeError("data must be an object");return h(e),t}function tt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ge(e,t){this._pairs=[],e&&Re(e,this,t)}const jt=Ge.prototype;jt.append=function(t,r){this._pairs.push([t,r])};jt.toString=function(t){const r=t?function(n){return t.call(this,n,tt)}:tt;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function Dn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Lt(e,t,r){if(!t)return e;const n=r&&r.encode||Dn;l.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let s;if(o?s=o(t,r):s=l.isURLSearchParams(t)?t.toString():new Ge(t,r).toString(n),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class rt{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){l.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Dt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pn=typeof URLSearchParams<"u"?URLSearchParams:Ge,Un=typeof FormData<"u"?FormData:null,Fn=typeof Blob<"u"?Blob:null,In={isBrowser:!0,classes:{URLSearchParams:Pn,FormData:Un,Blob:Fn},protocols:["http","https","file","blob","url","data"]},Je=typeof window<"u"&&typeof document<"u",Fe=typeof navigator=="object"&&navigator||void 0,Bn=Je&&(!Fe||["ReactNative","NativeScript","NS"].indexOf(Fe.product)<0),$n=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mn=Je&&window.location.href||"http://localhost",qn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Je,hasStandardBrowserEnv:Bn,hasStandardBrowserWebWorkerEnv:$n,navigator:Fe,origin:Mn},Symbol.toStringTag,{value:"Module"})),v={...qn,...In};function zn(e,t){return Re(e,new v.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,s){return v.isNode&&l.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function Hn(e){return l.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Gn(e){const t={},r=Object.keys(e);let n;const o=r.length;let s;for(n=0;n<o;n++)s=r[n],t[s]=e[s];return t}function Pt(e){function t(r,n,o,s){let a=r[s++];if(a==="__proto__")return!0;const i=Number.isFinite(+a),d=s>=r.length;return a=!a&&l.isArray(o)?o.length:a,d?(l.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!i):((!o[a]||!l.isObject(o[a]))&&(o[a]=[]),t(r,n,o[a],s)&&l.isArray(o[a])&&(o[a]=Gn(o[a])),!i)}if(l.isFormData(e)&&l.isFunction(e.entries)){const r={};return l.forEachEntry(e,(n,o)=>{t(Hn(n),o,r,0)}),r}return null}function Jn(e,t,r){if(l.isString(e))try{return(t||JSON.parse)(e),l.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ce={transitional:Dt,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,s=l.isObject(t);if(s&&l.isHTMLForm(t)&&(t=new FormData(t)),l.isFormData(t))return o?JSON.stringify(Pt(t)):t;if(l.isArrayBuffer(t)||l.isBuffer(t)||l.isStream(t)||l.isFile(t)||l.isBlob(t)||l.isReadableStream(t))return t;if(l.isArrayBufferView(t))return t.buffer;if(l.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return zn(t,this.formSerializer).toString();if((i=l.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Re(i?{"files[]":t}:t,d&&new d,this.formSerializer)}}return s||o?(r.setContentType("application/json",!1),Jn(t)):t}],transformResponse:[function(t){const r=this.transitional||ce.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(l.isResponse(t)||l.isReadableStream(t))return t;if(t&&l.isString(t)&&(n&&!this.responseType||o)){const a=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(i){if(a)throw i.name==="SyntaxError"?w.from(i,w.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:v.classes.FormData,Blob:v.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};l.forEach(["delete","get","head","post","put","patch"],e=>{ce.headers[e]={}});const Vn=l.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wn=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),r=a.substring(0,o).trim().toLowerCase(),n=a.substring(o+1).trim(),!(!r||t[r]&&Vn[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},nt=Symbol("internals");function Q(e){return e&&String(e).trim().toLowerCase()}function de(e){return e===!1||e==null?e:l.isArray(e)?e.map(de):String(e)}function Kn(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Xn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Oe(e,t,r,n,o){if(l.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!l.isString(t)){if(l.isString(n))return t.indexOf(n)!==-1;if(l.isRegExp(n))return n.test(t)}}function Yn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Zn(e,t){const r=l.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,s,a){return this[n].call(this,t,o,s,a)},configurable:!0})})}let _=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function s(i,d,c){const f=Q(d);if(!f)throw new Error("header name must be a non-empty string");const x=l.findKey(o,f);(!x||o[x]===void 0||c===!0||c===void 0&&o[x]!==!1)&&(o[x||d]=de(i))}const a=(i,d)=>l.forEach(i,(c,f)=>s(c,f,d));if(l.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(l.isString(t)&&(t=t.trim())&&!Xn(t))a(Wn(t),r);else if(l.isObject(t)&&l.isIterable(t)){let i={},d,c;for(const f of t){if(!l.isArray(f))throw TypeError("Object iterator must return a key-value pair");i[c=f[0]]=(d=i[c])?l.isArray(d)?[...d,f[1]]:[d,f[1]]:f[1]}a(i,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=Q(t),t){const n=l.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return Kn(o);if(l.isFunction(r))return r.call(this,o,n);if(l.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Q(t),t){const n=l.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Oe(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function s(a){if(a=Q(a),a){const i=l.findKey(n,a);i&&(!r||Oe(n,n[i],i,r))&&(delete n[i],o=!0)}}return l.isArray(t)?t.forEach(s):s(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const s=r[n];(!t||Oe(this,this[s],s,t,!0))&&(delete this[s],o=!0)}return o}normalize(t){const r=this,n={};return l.forEach(this,(o,s)=>{const a=l.findKey(n,s);if(a){r[a]=de(o),delete r[s];return}const i=t?Yn(s):String(s).trim();i!==s&&delete r[s],r[i]=de(o),n[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return l.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&l.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[nt]=this[nt]={accessors:{}}).accessors,o=this.prototype;function s(a){const i=Q(a);n[i]||(Zn(o,a),n[i]=!0)}return l.isArray(t)?t.forEach(s):s(t),this}};_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);l.reduceDescriptors(_.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});l.freezeMethods(_);function Se(e,t){const r=this||ce,n=t||r,o=_.from(n.headers);let s=n.data;return l.forEach(e,function(i){s=i.call(r,s,o.normalize(),t?t.status:void 0)}),o.normalize(),s}function Ut(e){return!!(e&&e.__CANCEL__)}function Z(e,t,r){w.call(this,e??"canceled",w.ERR_CANCELED,t,r),this.name="CanceledError"}l.inherits(Z,w,{__CANCEL__:!0});function Ft(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new w("Request failed with status code "+r.status,[w.ERR_BAD_REQUEST,w.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Qn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function eo(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,s=0,a;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),f=n[s];a||(a=c),r[o]=d,n[o]=c;let x=s,m=0;for(;x!==o;)m+=r[x++],x=x%e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-a<t)return;const h=f&&c-f;return h?Math.round(m*1e3/h):void 0}}function to(e,t){let r=0,n=1e3/t,o,s;const a=(c,f=Date.now())=>{r=f,o=null,s&&(clearTimeout(s),s=null),e.apply(null,c)};return[(...c)=>{const f=Date.now(),x=f-r;x>=n?a(c,f):(o=c,s||(s=setTimeout(()=>{s=null,a(o)},n-x)))},()=>o&&a(o)]}const ue=(e,t,r=3)=>{let n=0;const o=eo(50,250);return to(s=>{const a=s.loaded,i=s.lengthComputable?s.total:void 0,d=a-n,c=o(d),f=a<=i;n=a;const x={loaded:a,total:i,progress:i?a/i:void 0,bytes:d,rate:c||void 0,estimated:c&&i&&f?(i-a)/c:void 0,event:s,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(x)},r)},ot=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},st=e=>(...t)=>l.asap(()=>e(...t)),ro=v.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,v.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(v.origin),v.navigator&&/(msie|trident)/i.test(v.navigator.userAgent)):()=>!0,no=v.hasStandardBrowserEnv?{write(e,t,r,n,o,s){const a=[e+"="+encodeURIComponent(t)];l.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),l.isString(n)&&a.push("path="+n),l.isString(o)&&a.push("domain="+o),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oo(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function so(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function It(e,t,r){let n=!oo(t);return e&&(n||r==!1)?so(e,t):t}const at=e=>e instanceof _?{...e}:e;function J(e,t){t=t||{};const r={};function n(c,f,x,m){return l.isPlainObject(c)&&l.isPlainObject(f)?l.merge.call({caseless:m},c,f):l.isPlainObject(f)?l.merge({},f):l.isArray(f)?f.slice():f}function o(c,f,x,m){if(l.isUndefined(f)){if(!l.isUndefined(c))return n(void 0,c,x,m)}else return n(c,f,x,m)}function s(c,f){if(!l.isUndefined(f))return n(void 0,f)}function a(c,f){if(l.isUndefined(f)){if(!l.isUndefined(c))return n(void 0,c)}else return n(void 0,f)}function i(c,f,x){if(x in t)return n(c,f);if(x in e)return n(void 0,c)}const d={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:i,headers:(c,f,x)=>o(at(c),at(f),x,!0)};return l.forEach(Object.keys(Object.assign({},e,t)),function(f){const x=d[f]||o,m=x(e[f],t[f],f);l.isUndefined(m)&&x!==i||(r[f]=m)}),r}const Bt=e=>{const t=J({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:i}=t;t.headers=a=_.from(a),t.url=Lt(It(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&a.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let d;if(l.isFormData(r)){if(v.hasStandardBrowserEnv||v.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((d=a.getContentType())!==!1){const[c,...f]=d?d.split(";").map(x=>x.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...f].join("; "))}}if(v.hasStandardBrowserEnv&&(n&&l.isFunction(n)&&(n=n(t)),n||n!==!1&&ro(t.url))){const c=o&&s&&no.read(s);c&&a.set(o,c)}return t},ao=typeof XMLHttpRequest<"u",io=ao&&function(e){return new Promise(function(r,n){const o=Bt(e);let s=o.data;const a=_.from(o.headers).normalize();let{responseType:i,onUploadProgress:d,onDownloadProgress:c}=o,f,x,m,h,u;function b(){h&&h(),u&&u(),o.cancelToken&&o.cancelToken.unsubscribe(f),o.signal&&o.signal.removeEventListener("abort",f)}let p=new XMLHttpRequest;p.open(o.method.toUpperCase(),o.url,!0),p.timeout=o.timeout;function R(){if(!p)return;const y=_.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),g={data:!i||i==="text"||i==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:y,config:e,request:p};Ft(function(k){r(k),b()},function(k){n(k),b()},g),p=null}"onloadend"in p?p.onloadend=R:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(R)},p.onabort=function(){p&&(n(new w("Request aborted",w.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new w("Network Error",w.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let C=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const g=o.transitional||Dt;o.timeoutErrorMessage&&(C=o.timeoutErrorMessage),n(new w(C,g.clarifyTimeoutError?w.ETIMEDOUT:w.ECONNABORTED,e,p)),p=null},s===void 0&&a.setContentType(null),"setRequestHeader"in p&&l.forEach(a.toJSON(),function(C,g){p.setRequestHeader(g,C)}),l.isUndefined(o.withCredentials)||(p.withCredentials=!!o.withCredentials),i&&i!=="json"&&(p.responseType=o.responseType),c&&([m,u]=ue(c,!0),p.addEventListener("progress",m)),d&&p.upload&&([x,h]=ue(d),p.upload.addEventListener("progress",x),p.upload.addEventListener("loadend",h)),(o.cancelToken||o.signal)&&(f=y=>{p&&(n(!y||y.type?new Z(null,e,p):y),p.abort(),p=null)},o.cancelToken&&o.cancelToken.subscribe(f),o.signal&&(o.signal.aborted?f():o.signal.addEventListener("abort",f)));const E=Qn(o.url);if(E&&v.protocols.indexOf(E)===-1){n(new w("Unsupported protocol "+E+":",w.ERR_BAD_REQUEST,e));return}p.send(s||null)})},co=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const s=function(c){if(!o){o=!0,i();const f=c instanceof Error?c:this.reason;n.abort(f instanceof w?f:new Z(f instanceof Error?f.message:f))}};let a=t&&setTimeout(()=>{a=null,s(new w(`timeout ${t} of ms exceeded`,w.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:d}=n;return d.unsubscribe=()=>l.asap(i),d}},fo=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},lo=async function*(e,t){for await(const r of xo(e))yield*fo(r,t)},xo=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},it=(e,t,r,n)=>{const o=lo(e,t);let s=0,a,i=d=>{a||(a=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:f}=await o.next();if(c){i(),d.close();return}let x=f.byteLength;if(r){let m=s+=x;r(m)}d.enqueue(new Uint8Array(f))}catch(c){throw i(c),c}},cancel(d){return i(d),o.return()}},{highWaterMark:2})},Ae=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$t=Ae&&typeof ReadableStream=="function",uo=Ae&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Mt=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bo=$t&&Mt(()=>{let e=!1;const t=new Request(v.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ct=64*1024,Ie=$t&&Mt(()=>l.isReadableStream(new Response("").body)),be={stream:Ie&&(e=>e.body)};Ae&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!be[t]&&(be[t]=l.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new w(`Response type '${t}' is not supported`,w.ERR_NOT_SUPPORT,n)})})})(new Response);const po=async e=>{if(e==null)return 0;if(l.isBlob(e))return e.size;if(l.isSpecCompliantForm(e))return(await new Request(v.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(l.isArrayBufferView(e)||l.isArrayBuffer(e))return e.byteLength;if(l.isURLSearchParams(e)&&(e=e+""),l.isString(e))return(await uo(e)).byteLength},mo=async(e,t)=>{const r=l.toFiniteNumber(e.getContentLength());return r??po(t)},ho=Ae&&(async e=>{let{url:t,method:r,data:n,signal:o,cancelToken:s,timeout:a,onDownloadProgress:i,onUploadProgress:d,responseType:c,headers:f,withCredentials:x="same-origin",fetchOptions:m}=Bt(e);c=c?(c+"").toLowerCase():"text";let h=co([o,s&&s.toAbortSignal()],a),u;const b=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let p;try{if(d&&bo&&r!=="get"&&r!=="head"&&(p=await mo(f,n))!==0){let g=new Request(t,{method:"POST",body:n,duplex:"half"}),T;if(l.isFormData(n)&&(T=g.headers.get("content-type"))&&f.setContentType(T),g.body){const[k,V]=ot(p,ue(st(d)));n=it(g.body,ct,k,V)}}l.isString(x)||(x=x?"include":"omit");const R="credentials"in Request.prototype;u=new Request(t,{...m,signal:h,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:R?x:void 0});let E=await fetch(u,m);const y=Ie&&(c==="stream"||c==="response");if(Ie&&(i||y&&b)){const g={};["status","statusText","headers"].forEach(Ke=>{g[Ke]=E[Ke]});const T=l.toFiniteNumber(E.headers.get("content-length")),[k,V]=i&&ot(T,ue(st(i),!0))||[];E=new Response(it(E.body,ct,k,()=>{V&&V(),b&&b()}),g)}c=c||"text";let C=await be[l.findKey(be,c)||"text"](E,e);return!y&&b&&b(),await new Promise((g,T)=>{Ft(g,T,{data:C,headers:_.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:u})})}catch(R){throw b&&b(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new w("Network Error",w.ERR_NETWORK,e,u),{cause:R.cause||R}):w.from(R,R&&R.code,e,u)}}),Be={http:_n,xhr:io,fetch:ho};l.forEach(Be,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ft=e=>`- ${e}`,yo=e=>l.isFunction(e)||e===null||e===!1,qt={getAdapter:e=>{e=l.isArray(e)?e:[e];const{length:t}=e;let r,n;const o={};for(let s=0;s<t;s++){r=e[s];let a;if(n=r,!yo(r)&&(n=Be[(a=String(r)).toLowerCase()],n===void 0))throw new w(`Unknown adapter '${a}'`);if(n)break;o[a||"#"+s]=n}if(!n){const s=Object.entries(o).map(([i,d])=>`adapter ${i} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=t?s.length>1?`since :
`+s.map(ft).join(`
`):" "+ft(s[0]):"as no adapter specified";throw new w("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Be};function ve(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Z(null,e)}function dt(e){return ve(e),e.headers=_.from(e.headers),e.data=Se.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qt.getAdapter(e.adapter||ce.adapter)(e).then(function(n){return ve(e),n.data=Se.call(e,e.transformResponse,n),n.headers=_.from(n.headers),n},function(n){return Ut(n)||(ve(e),n&&n.response&&(n.response.data=Se.call(e,e.transformResponse,n.response),n.response.headers=_.from(n.response.headers))),Promise.reject(n)})}const zt="1.10.0",Ce={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ce[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const lt={};Ce.transitional=function(t,r,n){function o(s,a){return"[Axios v"+zt+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,i)=>{if(t===!1)throw new w(o(a," has been removed"+(r?" in "+r:"")),w.ERR_DEPRECATED);return r&&!lt[a]&&(lt[a]=!0,console.warn(o(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,a,i):!0}};Ce.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function go(e,t,r){if(typeof e!="object")throw new w("options must be an object",w.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const s=n[o],a=t[s];if(a){const i=e[s],d=i===void 0||a(i,s,e);if(d!==!0)throw new w("option "+s+" must be "+d,w.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new w("Unknown option "+s,w.ERR_BAD_OPTION)}}const le={assertOptions:go,validators:Ce},P=le.validators;let G=class{constructor(t){this.defaults=t||{},this.interceptors={request:new rt,response:new rt}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=J(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:s}=r;n!==void 0&&le.assertOptions(n,{silentJSONParsing:P.transitional(P.boolean),forcedJSONParsing:P.transitional(P.boolean),clarifyTimeoutError:P.transitional(P.boolean)},!1),o!=null&&(l.isFunction(o)?r.paramsSerializer={serialize:o}:le.assertOptions(o,{encode:P.function,serialize:P.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),le.assertOptions(r,{baseUrl:P.spelling("baseURL"),withXsrfToken:P.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&l.merge(s.common,s[r.method]);s&&l.forEach(["delete","get","head","post","put","patch","common"],u=>{delete s[u]}),r.headers=_.concat(a,s);const i=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(d=d&&b.synchronous,i.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let f,x=0,m;if(!d){const u=[dt.bind(this),void 0];for(u.unshift.apply(u,i),u.push.apply(u,c),m=u.length,f=Promise.resolve(r);x<m;)f=f.then(u[x++],u[x++]);return f}m=i.length;let h=r;for(x=0;x<m;){const u=i[x++],b=i[x++];try{h=u(h)}catch(p){b.call(this,p);break}}try{f=dt.call(this,h)}catch(u){return Promise.reject(u)}for(x=0,m=c.length;x<m;)f=f.then(c[x++],c[x++]);return f}getUri(t){t=J(this.defaults,t);const r=It(t.baseURL,t.url,t.allowAbsoluteUrls);return Lt(r,t.params,t.paramsSerializer)}};l.forEach(["delete","get","head","options"],function(t){G.prototype[t]=function(r,n){return this.request(J(n||{},{method:t,url:r,data:(n||{}).data}))}});l.forEach(["post","put","patch"],function(t){function r(n){return function(s,a,i){return this.request(J(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}G.prototype[t]=r(),G.prototype[t+"Form"]=r(!0)});let wo=class Ht{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(o=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](o);n._listeners=null}),this.promise.then=o=>{let s;const a=new Promise(i=>{n.subscribe(i),s=i}).then(o);return a.cancel=function(){n.unsubscribe(s)},a},t(function(s,a,i){n.reason||(n.reason=new Z(s,a,i),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Ht(function(o){t=o}),cancel:t}}};function Eo(e){return function(r){return e.apply(null,r)}}function To(e){return l.isObject(e)&&e.isAxiosError===!0}const $e={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($e).forEach(([e,t])=>{$e[t]=e});function Gt(e){const t=new G(e),r=Et(G.prototype.request,t);return l.extend(r,G.prototype,t,{allOwnKeys:!0}),l.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return Gt(J(e,o))},r}const S=Gt(ce);S.Axios=G;S.CanceledError=Z;S.CancelToken=wo;S.isCancel=Ut;S.VERSION=zt;S.toFormData=Re;S.AxiosError=w;S.Cancel=S.CanceledError;S.all=function(t){return Promise.all(t)};S.spread=Eo;S.isAxiosError=To;S.mergeConfig=J;S.AxiosHeaders=_;S.formToJSON=e=>Pt(l.isHTMLForm(e)?new FormData(e):e);S.getAdapter=qt.getAdapter;S.HttpStatusCode=$e;S.default=S;const{Axios:xs,AxiosError:us,CanceledError:bs,isCancel:ps,CancelToken:ms,VERSION:hs,all:ys,Cancel:gs,isAxiosError:ws,spread:Es,toFormData:Ts,AxiosHeaders:xt,HttpStatusCode:Rs,formToJSON:As,getAdapter:Cs,mergeConfig:ks}=S;function Jt(e){e.interceptors.request.use(t=>{const r=localStorage.getItem(rr);let n="";try{n=JSON.parse(r||"{}").token??""}catch(o){console.warn("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð° Ñ‚Ð¾ÐºÐµÐ½Ð°",o)}return n&&((!t.headers||!(t.headers instanceof xt))&&(t.headers=new xt(t.headers)),t.headers.set("Authorization",`Bearer ${n}`)),t})}const X=S.create({baseURL:"http://localhost:4000"}),re=S.create({baseURL:"http://localhost:4001"});Jt(X);Jt(re);const F=se(e=>({tracks:[],currentTrack:null,isPlaying:!1,loading:!1,setLoading:t=>e({loading:t}),setTracks:t=>e({tracks:t}),addTrack:t=>e(r=>({tracks:[...r.tracks,t]})),updateTrack:t=>e(r=>({tracks:r.tracks.map(n=>n.id===t.id?t:n)})),removeTrack:t=>e(r=>({tracks:r.tracks.filter(n=>n.id!==t)})),setCurrentTrack:t=>e({currentTrack:t}),setIsPlaying:t=>e({isPlaying:t}),togglePlay:()=>e(t=>({isPlaying:!t.isPlaying}))}));async function Ro(e,t,r,n){try{const[o,s]=await Promise.all([X.get("/tracks",{params:{groupId:e,albumId:r&&n?r:void 0}}),r&&n?re.get(`/album-tracks/${encodeURIComponent(t)}/${encodeURIComponent(n)}`):re.get(`/tracks/${encodeURIComponent(t)}`)]),a=o.data;if(!Array.isArray(a))return F.getState().setTracks([]),[];let i=[];if(r&&n){const c=s.data,f=c.coverUrl??"";i=c.tracks.map(x=>({trackName:x.trackName,audioUrl:x.audioUrl,coverUrl:f}))}else i=s.data;const d=a.map(c=>{const f=i.find(x=>x.trackName===c.id||x.trackName===c.title);return{...c,cover:f?.coverUrl??"",audioUrl:f?.audioUrl??"",groupName:t}}).filter(c=>r&&n?c.albumId===r:!c.albumId||c.albumId==="");return F.getState().setTracks(d),d}catch(o){return console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ Ñ‚Ñ€ÐµÐºÐ¾Ð² Ñ Ð¼ÐµÐ´Ð¸Ð°",o),F.getState().setTracks([]),[]}}const Ne=80,Vt=se()((e,t)=>({authData:null,setAuthData:r=>e({authData:r}),logout:()=>{e({authData:null}),["user=; max-age=0; path=/","user=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/","user=; max-age=0; path=/; secure","user=; max-age=0"].forEach(n=>{document.cookie=n}),U("Ð’Ñ‹ Ð²Ñ‹ÑˆÐ»Ð¸ Ð¸Ð· ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹",{icon:"ðŸ‘‹"})},toggleLikeTrack:r=>{const n=t().authData;if(!n)return;const o=F.getState().tracks.find(h=>h.id===r);if(!o?.genre)return;const s=o.genre,a=new Set(n.likedTracks||[]),i=a.has(r);i?a.delete(r):a.add(r);const d=Array.from(a);let c=n.recommendation?[...n.recommendation]:[];const f=c.findIndex(h=>h.genre===s),x=f===-1;if(x&&!i){c.push({genre:s,percent:1});const u=c.filter(b=>b.genre!==s).reduce((b,p)=>b+p.percent,0);c=c.map(b=>{if(b.genre!==s&&u>0){const p=b.percent/u;return{...b,percent:Math.max(0,Number((b.percent-p).toFixed(2)))}}return b})}if(!x){const h=i?-1:1,u=c[f];let b=u.percent+h;b>Ne&&(b=Ne),b<0&&(b=0);const p=Number((b-u.percent).toFixed(2));if(p!==0){const E=c.filter((y,C)=>C!==f).reduce((y,C)=>y+C.percent,0);c=c.map((y,C)=>{if(C===f)return{...y,percent:b};if(E>0){const g=y.percent/E,T=y.percent-p*g;return{...y,percent:Math.max(0,Number(T.toFixed(2)))}}return y})}}const m=c.reduce((h,u)=>h+u.percent,0);if(m!==100){const h=Number((100-m).toFixed(2)),u=c.findIndex(b=>b.percent+h<=Ne);u!==-1&&(c[u].percent=Number((c[u].percent+h).toFixed(2)))}e({authData:{...n,likedTracks:d,recommendation:c}})},toggleLikeGroup:r=>{const n=t().authData;if(!n)return;const o=new Set(n.likedGroups||[]);o.has(r)?o.delete(r):o.add(r),e({authData:{...n,likedGroups:Array.from(o)}})},toggleLikeAlbum:r=>{const n=t().authData;if(!n)return;const s=F.getState().tracks.find(R=>R.albumId===r);if(!s?.genre)return;const a=s.genre,i=new Set(n.likedAlbums||[]),d=i.has(r);d?i.delete(r):i.add(r);const c=Array.from(i);let f=n.recommendation?[...n.recommendation]:[];const x=f.findIndex(R=>R.genre===a),m=x===-1,h=5,u=80;if(m&&!d){f.push({genre:a,percent:h});const E=f.filter(y=>y.genre!==a).reduce((y,C)=>y+C.percent,0);f=f.map(y=>{if(y.genre!==a&&E>0){const C=y.percent/E;return{...y,percent:y.percent-h*C}}return y})}else if(!m){const R=f[x].percent;let E=d?R-h:R+h;E>u&&(E=u),E<0&&(E=0);const y=E-R;if(y!==0){const g=f.filter((T,k)=>k!==x).reduce((T,k)=>T+k.percent,0);f=f.map((T,k)=>{if(k===x)return{...T,percent:E};if(g>0){const V=T.percent/g;return{...T,percent:T.percent-y*V}}return T})}}const p=100-f.reduce((R,E)=>R+E.percent,0);Math.abs(p)>1e-6&&(f[x]={...f[x],percent:f[x].percent+p}),e({authData:{...n,likedAlbums:c,recommendation:f}})}})),Ao=async e=>{const{authData:t,toggleLikeTrack:r}=Vt.getState();if(!t){U.error("Ð’Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð»Ð°Ð¹ÐºÐ°Ñ‚ÑŒ");return}try{const n=t.likedTracks?.includes(e)?t.likedTracks.filter(o=>o!==e):[...t.likedTracks||[],e];await X.patch(`/users/${t.id}`,{likedTracks:n,recommendation:t.recommendation}),r(e),U.success(n.includes(e)?"â¤ï¸ Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ Ð² Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ":"ðŸ’” Ð£Ð±Ñ€Ð°Ð½Ð¾ Ð¸Ð· Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾")}catch(n){U.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð»Ð°Ð¹Ðº"),console.error(n)}},Co={};var Me=null;function ko(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return Co.randomBytes(e)}catch{}if(!Me)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Me(e)}function Oo(e){Me=e}function Ve(e,t){if(e=e||We,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(pe(ko(ne),ne)),r.join("")}function Wt(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=We;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(o){L(function(){try{o(null,Ve(e))}catch(s){o(s)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(o,s){n(function(a,i){if(a){s(a);return}o(i)})})}function Kt(e,t){if(typeof t>"u"&&(t=We),typeof t=="number"&&(t=Ve(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return qe(e,t)}function Xt(e,t,r,n){function o(s){typeof e=="string"&&typeof t=="number"?Wt(t,function(a,i){qe(e,i,s,n)}):typeof e=="string"&&typeof t=="string"?qe(e,t,s,n):L(s.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);o(r)}else return new Promise(function(s,a){o(function(i,d){if(i){a(i);return}s(d)})})}function Yt(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function So(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:Yt(Kt(e,t.substring(0,t.length-31)),t)}function vo(e,t,r,n){function o(s){if(typeof e!="string"||typeof t!="string"){L(s.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){L(s.bind(this,null,!1));return}Xt(e,t.substring(0,29),function(a,i){a?s(a):s(null,Yt(i,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);o(r)}else return new Promise(function(s,a){o(function(i,d){if(i){a(i);return}s(d)})})}function No(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function _o(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function jo(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return Zt(e)>72}var L=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function Zt(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function Lo(e){for(var t=0,r,n,o=new Array(Zt(e)),s=0,a=e.length;s<a;++s)r=e.charCodeAt(s),r<128?o[t++]=r:r<2048?(o[t++]=r>>6|192,o[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(s+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++s,o[t++]=r>>18|240,o[t++]=r>>12&63|128,o[t++]=r>>6&63|128,o[t++]=r&63|128):(o[t++]=r>>12|224,o[t++]=r>>6&63|128,o[t++]=r&63|128);return o}var W="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),$=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function pe(e,t){var r=0,n=[],o,s;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(o=e[r++]&255,n.push(W[o>>2&63]),o=(o&3)<<4,r>=t){n.push(W[o&63]);break}if(s=e[r++]&255,o|=s>>4&15,n.push(W[o&63]),o=(s&15)<<2,r>=t){n.push(W[o&63]);break}s=e[r++]&255,o|=s>>6&3,n.push(W[o&63]),n.push(W[s&63])}return n.join("")}function Qt(e,t){var r=0,n=e.length,o=0,s=[],a,i,d,c,f,x;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&o<t&&(x=e.charCodeAt(r++),a=x<$.length?$[x]:-1,x=e.charCodeAt(r++),i=x<$.length?$[x]:-1,!(a==-1||i==-1||(f=a<<2>>>0,f|=(i&48)>>4,s.push(String.fromCharCode(f)),++o>=t||r>=n)||(x=e.charCodeAt(r++),d=x<$.length?$[x]:-1,d==-1)||(f=(i&15)<<4>>>0,f|=(d&60)>>2,s.push(String.fromCharCode(f)),++o>=t||r>=n)));)x=e.charCodeAt(r++),c=x<$.length?$[x]:-1,f=(d&3)<<6>>>0,f|=c,s.push(String.fromCharCode(f)),++o;var m=[];for(r=0;r<o;r++)m.push(s[r].charCodeAt(0));return m}var ne=16,We=10,Do=16,Po=100,ut=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],bt=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],er=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function oe(e,t,r,n){var o,s=e[t],a=e[t+1];return s^=r[0],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],a^=o^r[1],o=n[a>>>24],o+=n[256|a>>16&255],o^=n[512|a>>8&255],o+=n[768|a&255],s^=o^r[2],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],a^=o^r[3],o=n[a>>>24],o+=n[256|a>>16&255],o^=n[512|a>>8&255],o+=n[768|a&255],s^=o^r[4],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],a^=o^r[5],o=n[a>>>24],o+=n[256|a>>16&255],o^=n[512|a>>8&255],o+=n[768|a&255],s^=o^r[6],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],a^=o^r[7],o=n[a>>>24],o+=n[256|a>>16&255],o^=n[512|a>>8&255],o+=n[768|a&255],s^=o^r[8],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],a^=o^r[9],o=n[a>>>24],o+=n[256|a>>16&255],o^=n[512|a>>8&255],o+=n[768|a&255],s^=o^r[10],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],a^=o^r[11],o=n[a>>>24],o+=n[256|a>>16&255],o^=n[512|a>>8&255],o+=n[768|a&255],s^=o^r[12],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],a^=o^r[13],o=n[a>>>24],o+=n[256|a>>16&255],o^=n[512|a>>8&255],o+=n[768|a&255],s^=o^r[14],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],a^=o^r[15],o=n[a>>>24],o+=n[256|a>>16&255],o^=n[512|a>>8&255],o+=n[768|a&255],s^=o^r[16],e[t]=a^r[Do+1],e[t+1]=s,e}function K(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function pt(e,t,r){for(var n=0,o=[0,0],s=t.length,a=r.length,i,d=0;d<s;d++)i=K(e,n),n=i.offp,t[d]=t[d]^i.key;for(d=0;d<s;d+=2)o=oe(o,0,t,r),t[d]=o[0],t[d+1]=o[1];for(d=0;d<a;d+=2)o=oe(o,0,t,r),r[d]=o[0],r[d+1]=o[1]}function Uo(e,t,r,n){for(var o=0,s=[0,0],a=r.length,i=n.length,d,c=0;c<a;c++)d=K(t,o),o=d.offp,r[c]=r[c]^d.key;for(o=0,c=0;c<a;c+=2)d=K(e,o),o=d.offp,s[0]^=d.key,d=K(e,o),o=d.offp,s[1]^=d.key,s=oe(s,0,r,n),r[c]=s[0],r[c+1]=s[1];for(c=0;c<i;c+=2)d=K(e,o),o=d.offp,s[0]^=d.key,d=K(e,o),o=d.offp,s[1]^=d.key,s=oe(s,0,r,n),n[c]=s[0],n[c+1]=s[1]}function mt(e,t,r,n,o){var s=er.slice(),a=s.length,i;if(r<4||r>31)if(i=Error("Illegal number of rounds (4-31): "+r),n){L(n.bind(this,i));return}else throw i;if(t.length!==ne)if(i=Error("Illegal salt length: "+t.length+" != "+ne),n){L(n.bind(this,i));return}else throw i;r=1<<r>>>0;var d,c,f=0,x;typeof Int32Array=="function"?(d=new Int32Array(ut),c=new Int32Array(bt)):(d=ut.slice(),c=bt.slice()),Uo(t,e,d,c);function m(){if(o&&o(f/r),f<r)for(var u=Date.now();f<r&&(f=f+1,pt(e,d,c),pt(t,d,c),!(Date.now()-u>Po)););else{for(f=0;f<64;f++)for(x=0;x<a>>1;x++)oe(s,x<<1,d,c);var b=[];for(f=0;f<a;f++)b.push((s[f]>>24&255)>>>0),b.push((s[f]>>16&255)>>>0),b.push((s[f]>>8&255)>>>0),b.push((s[f]&255)>>>0);if(n){n(null,b);return}else return b}n&&L(m)}if(typeof n<"u")m();else for(var h;;)if(typeof(h=m())<"u")return h||[]}function qe(e,t,r,n){var o;if(typeof e!="string"||typeof t!="string")if(o=Error("Invalid string / salt: Not a string"),r){L(r.bind(this,o));return}else throw o;var s,a;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(o=Error("Invalid salt version: "+t.substring(0,2)),r){L(r.bind(this,o));return}else throw o;if(t.charAt(2)==="$")s="\0",a=3;else{if(s=t.charAt(2),s!=="a"&&s!=="b"&&s!=="y"||t.charAt(3)!=="$")if(o=Error("Invalid salt revision: "+t.substring(2,4)),r){L(r.bind(this,o));return}else throw o;a=4}if(t.charAt(a+2)>"$")if(o=Error("Missing salt rounds"),r){L(r.bind(this,o));return}else throw o;var i=parseInt(t.substring(a,a+1),10)*10,d=parseInt(t.substring(a+1,a+2),10),c=i+d,f=t.substring(a+3,a+25);e+=s>="a"?"\0":"";var x=Lo(e),m=Qt(f,ne);function h(u){var b=[];return b.push("$2"),s>="a"&&b.push(s),b.push("$"),c<10&&b.push("0"),b.push(c.toString()),b.push("$"),b.push(pe(m,m.length)),b.push(pe(u,er.length*4-1)),b.join("")}if(typeof r>"u")return h(mt(x,m,c));mt(x,m,c,function(u,b){u?r(u,null):r(null,h(b))},n)}function Fo(e,t){return pe(e,t)}function Io(e,t){return Qt(e,t)}const Os={setRandomFallback:Oo,genSaltSync:Ve,genSalt:Wt,hashSync:Kt,hash:Xt,compareSync:So,compare:vo,getRounds:No,getSalt:_o,truncates:jo,encodeBase64:Fo,decodeBase64:Io},H=se((e,t)=>({currentTrack:null,progress:0,currentTime:0,isPlaying:!1,duration:0,volume:1,isMuted:!1,audio:null,setCurrentTrack:r=>{const n=t();n.audio&&(n.audio.pause(),n.audio.src="");const o=new Audio(r.audioUrl);o.volume=n.isMuted?0:n.volume,o.addEventListener("ended",()=>{const s=t(),a=F.getState().tracks??[],i=a.findIndex(d=>d.id===s.currentTrack?.id);if(i!==-1&&i<a.length-1){const d=a[i+1];s.setCurrentTrack(d)}else o.pause(),e({isPlaying:!1})}),o.addEventListener("loadedmetadata",()=>{e({duration:o.duration})}),o.addEventListener("timeupdate",()=>{e({progress:o.currentTime/o.duration*100,currentTime:o.currentTime})}),o.play().catch(()=>{console.warn("ÐÐ²Ñ‚Ð¾Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½Ð¾ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð¾Ð¼")}),e({currentTrack:r,audio:o,isPlaying:!0})},setProgress:r=>{const n=t().audio;n&&(n.currentTime=r/100*n.duration),e({progress:r})},setIsPlaying:r=>{const n=t().audio;n&&(r?n.play().catch(o=>console.warn("ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ Ð°ÑƒÐ´Ð¸Ð¾:",o)):n.pause(),e({isPlaying:r}))},setDuration:r=>e({duration:r}),setVolume:r=>{const n=t().audio;n&&(n.volume=r),e({volume:r})},setIsMuted:r=>{const n=t().audio;n&&(n.volume=r?0:t().volume),e({isMuted:r})},togglePlay:()=>{const{isPlaying:r,setIsPlaying:n}=t();n(!r)}}));function Bo(e){return fr({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"},child:[]}]})(e)}const $o=e=>{const t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${r.toString().padStart(2,"0")}`},me=se(e=>({albums:[],currentAlbum:null,setAlbums:t=>e({albums:t}),addAlbum:t=>e(r=>({albums:[...r.albums,t]})),updateAlbum:(t,r)=>e(n=>({albums:n.albums.map(o=>o.id===t?{...o,...r}:o)})),removeAlbum:t=>e(r=>({albums:r.albums.filter(n=>n.id!==t)})),appendTrackToAlbum:(t,r)=>e(n=>({albums:n.albums.map(o=>o.id===t?{...o,trackIds:[...o.trackIds,r]}:o)})),setCurrentAlbum:t=>e({currentAlbum:t}),clearCurrentAlbum:()=>e({currentAlbum:null})}));async function Mo(e,t,r,n){if(!r||!n){U.error("ÐžÑˆÐ¸Ð±ÐºÐ°: Ð³Ñ€ÑƒÐ¿Ð¿Ð° Ð¸Ð»Ð¸ Ð°Ð»ÑŒÐ±Ð¾Ð¼ Ð½Ðµ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ñ‹");return}const o=r.name,s=n.name,a=n.trackIds.filter(i=>i!==e);try{await Promise.all([re.delete(`/deleteTrack/${encodeURIComponent(o)}/${encodeURIComponent(s)}/${encodeURIComponent(t)}`),X.delete(`/tracks/${e}`),X.patch(`/albums/${n.id}`,{trackIds:a})]);const{tracks:i,setTracks:d}=F.getState();d(i.filter(m=>m.id!==e));const{albums:c,setAlbums:f}=me.getState(),x=c.map(m=>m.id===n.id?{...m,trackIds:a}:m);f(x),U.success(`Ð¢Ñ€ÐµÐº "${t}" ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑƒÐ´Ð°Ð»Ñ‘Ð½ Ð¸Ð· Ð°Ð»ÑŒÐ±Ð¾Ð¼Ð° "${s}"`)}catch(i){U.error(i instanceof Error?i.message:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸ Ñ‚Ñ€ÐµÐºÐ°")}}const qo=async(e,t,r)=>{try{await Promise.all([re.delete(`/deleteTrack/${encodeURIComponent(e)}/${encodeURIComponent(t)}`),X.delete(`/tracks/${r}`)]),F.getState().removeTrack(r),U.success(`Ð¢Ñ€ÐµÐº "${t}" ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑƒÐ´Ð°Ð»Ñ‘Ð½!`)}catch(n){console.error(n),U.error(n instanceof Error?n.message:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸ Ñ‚Ñ€ÐµÐºÐ°")}};function zo({track:e,groupName:t,onConfirmDelete:r}){const[n,o]=O.useState(!1),[s,a]=O.useState(!1),i=O.useRef(null),d=xe(g=>g.currentGroup),c=me(g=>g.currentAlbum),f=Vt(g=>g.authData),x=nr(g=>g.theme),m=H(g=>g.currentTrack),h=H(g=>g.togglePlay),u=H(g=>g.setCurrentTrack),b=!!f?.likedTracks?.includes(e.id),p=O.useCallback(()=>{Ao(e.id)},[e.id]),R=O.useCallback(()=>{m?.id!==e.id?u(e):h()},[m,e,u,h]),E=O.useCallback(()=>o(g=>!g),[]);O.useEffect(()=>{const g=T=>{i.current&&!i.current.contains(T.target)&&o(!1)};return n&&document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[n]);const y=()=>{o(!1),a(!1),setTimeout(()=>a(!0),0)},C=O.useCallback(async()=>{a(!1);try{if(!e.albumId)await qo(t,e.title,e.id);else{if(!d||!c)return;await Mo(e.id,e.title,d,c)}r?.(e)}catch(g){console.error(g)}},[e,t,d,c,r]);return{isDropdownOpen:n,isConfirmOpen:s,modalRef:i,theme:x,liked:b,toggleLike:p,onPlayClick:R,toggleDropdown:E,onDeleteClick:y,onConfirmDeleteClick:C,setConfirmOpen:a,setDropdownOpen:o}}const Ho=({track:e,groupName:t,onConfirmDelete:r})=>{const{isDropdownOpen:n,isConfirmOpen:o,modalRef:s,theme:a,liked:i,toggleLike:d,toggleDropdown:c,onDeleteClick:f,setDropdownOpen:x,onConfirmDeleteClick:m,setConfirmOpen:h}=zo({track:e,groupName:t,onConfirmDelete:r}),{t:u}=he("trackItem");return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex w-full max-w-full items-center border rounded overflow-hidden",style:{backgroundColor:"var(--bg-container)"},children:[A.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0",children:[A.jsx("img",{loading:"lazy",width:80,height:80,src:e.cover,alt:e.title,className:"object-cover rounded-tr-lg rounded-br-lg"}),A.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/50 transition-colors flex items-center justify-center rounded-tr-lg rounded-br-lg",children:A.jsx(tr,{theme:sr.CLEAR,showOnHover:!0,trackForPlay:e})})]}),A.jsxs("div",{className:"flex flex-col justify-center flex-grow px-4 overflow-hidden",children:[A.jsx(ee,{size:"medium",className:"truncate",children:t}),A.jsx(ee,{size:"medium",className:"truncate font-semibold",children:e.title})]}),A.jsxs("div",{className:"flex gap-5 items-center px-4 min-w-[60px] relative",children:[A.jsx(cr,{liked:i,onToggle:d}),A.jsx(ee,{size:"small",children:$o(e.duration)}),A.jsx("button",{className:"p-1 rounded-full border border-white hover:border-gray-300 hover:text-black text-gray-500 transition-colors cursor-pointer",onClick:c,children:A.jsx(Bo,{size:20,color:a["--primary-color"]})}),A.jsxs(ir,{isOpen:n,onClose:()=>x(!1),className:"ml-30 mb-35 min-w-[120px]",ref:s,children:[A.jsx("div",{className:"text-sm cursor-pointer hover:bg-gray-100 rounded p-2",onClick:f,children:u("delete")}),A.jsx("div",{className:"text-sm cursor-pointer hover:bg-gray-100 rounded p-2",children:u("option2")})]})]})]}),A.jsx(Go,{isOpen:o,onClose:()=>h(!1),onConfirm:m})]})};Ho.displayName="TrackItem";const tr=ht.memo(e=>{const{albumForPlay:t,className:r="",theme:n,showOnHover:o=!1,trackForPlay:s,recommendation:a}=e,{t:i}=he("playButton"),d=F(T=>T.tracks),c=H(T=>T.togglePlay),f=H(T=>T.setCurrentTrack),x=H(T=>T.currentTrack),m=H(T=>T.isPlaying),u=me(T=>T.currentAlbum)?.id===t?.id,b=x?.id===s?.id,p=xe(T=>T.currentGroup),R=me(T=>T.setCurrentAlbum),E=async()=>{if(t){if(!u){if(R(t),p)try{await Ro(p.id,p.name,t.id,t.name);const k=F.getState().tracks?.[0];k&&f(k),c()}catch(k){U.error(k instanceof Error?k.message:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ Ð°Ð»ÑŒÐ±Ð¾Ð¼Ð°");return}c();return}if(!t.trackIds.includes(x?.id??"")){const k=d?.[0];k&&(f(k),c())}c()}s&&(b||(f(s),c()),c())},y=t?t.trackIds.includes(x?.id??""):!1,C=t?m&&y?Xe:Ye:m&&b?Xe:Ye,g=i(m&&(t?y:b)?"pause":"play");return A.jsx(_e,{size:ar.L,square:!0,onClick:E,theme:n,className:`${o?"opacity-0 hover:opacity-100":"opacity-100"} transition-opacity ${r}`,"aria-label":g,children:A.jsx(C,{className:"h-6 w-6 text-white"})})});tr.displayName="PlayButton";const Go=({isOpen:e,onClose:t,onConfirm:r})=>{const{t:n}=he("confirmDeleteModal");return A.jsx(or,{isOpen:e,onClose:t,closable:!0,children:A.jsxs("div",{className:"flex flex-col gap-4 min-w-[300px]",children:[A.jsx(ee,{className:"text-lg font-semibold text-white",children:n("confirmDelete")}),A.jsxs("div",{className:"flex justify-center gap-10",children:[A.jsx(_e,{onClick:t,children:n("cancel")}),A.jsx(_e,{onClick:r,children:n("delete")})]})]})})};export{Go as C,dr as G,tr as P,Ho as T,U as V,xe as a,F as b,Vt as c,H as d,re as e,$o as f,X as g,Ro as h,Os as i,Ao as l,me as u};
