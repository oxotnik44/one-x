import{r,u as v,j as o}from"./iframe-U8ya4lKj.js";import{r as E}from"./index-C84dbosL.js";import{c as x}from"./classNames-DZENv8ZT.js";import{F as j}from"./index-B2TlSA0P.js";const w=l=>{const{children:u,element:e=document.body}=l;return E.createPortal(u,e)},h=300,M=({className:l,children:u,isOpen:e,onClose:m,lazy:y=!0,closable:n=!1})=>{const[a,s]=r.useState(!1),[k,d]=r.useState(!1),i=r.useRef(null),p=v(t=>t.theme);r.useEffect(()=>{e?(s(!1),d(!0)):(s(!0),i.current=setTimeout(()=>{s(!1),d(!1)},h))},[e]);const c=r.useCallback(()=>{s(!0),i.current=setTimeout(()=>{s(!1),d(!1),m()},h)},[m]),f=r.useCallback(t=>{t.key==="Escape"&&n&&c()},[c,n]),g=t=>{n&&t.target===t.currentTarget&&c()};return r.useEffect(()=>(e&&window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f),i.current&&clearTimeout(i.current)}),[e,f]),y&&!k?null:o.jsx(w,{children:o.jsx("div",{onClick:g,className:x("fixed inset-0 flex items-center justify-center transition-opacity duration-300 bg-black/60",{"opacity-100 pointer-events-auto z-50":e&&!a,"opacity-0 pointer-events-none -z-10":!e||a},[l]),children:o.jsxs("div",{className:x("relative rounded-2xl p-5 transition-transform duration-300",{"scale-100":e&&!a,"scale-50":!e||a}),onClick:t=>t.stopPropagation(),style:{backgroundColor:p["--bg-container"],width:"fit-content",maxWidth:"100%"},children:[n&&o.jsx("button",{onClick:c,"aria-label":"Закрыть",className:"absolute top-1 right-2 text-gray-400 hover:text-white transition-colors",children:o.jsx(j,{size:22})}),u]})})})};export{M};
